(()=>{"use strict";var e,t,n,a,o,r,c={845:(e,t,n)=>{n.d(t,{EM:()=>r,Qe:()=>a,qL:()=>o});const a=e=>{let t=document.createElement("div"),n=document.createElement("h1"),a=document.createElement("p"),o=document.createElement("p");return t.classList.add("post"),n.innerText=e.title,a.innerText=e.content,o.innerText=e.time.created,t.append(n,a,o),t},o=e=>{let t=document.createElement("div");return t.classList.add("container"),e.forEach((e=>{let n=document.createElement("div"),a=document.createElement("p"),o=document.createElement("p"),r=document.createElement("p");n.classList.add("comment"),a.classList.add("content"),o.classList.add("username"),r.classList.add("time"),a.innerText=e.content,o.innerText=e.username,r.innerText=e.timeCreated,n.append(a,o,r),t.appendChild(n)})),t},r=()=>{let e=document.body.childNodes;return Array.from(e).forEach((e=>e.remove())),!Array.from(e).length}},138:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var a=n(250),o=e([a]);a=(o.then?(await o)():o)[0],document.body.appendChild(a.Z),t()}catch(e){t(e)}}))},132:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(845);const o=async e=>{(0,a.EM)();const t=await fetch("http://localhost:3000/api/posts/"+e).then((e=>e.json())).catch((e=>console.log(e))),n=await fetch("http://localhost:3000/api/posts/"+e+"/comments").then((e=>e.json())).catch((e=>console.log(e))),o=(0,a.Qe)(t),r=(0,a.qL)(n);let c=document.createElement("button");c.innerText="Go back",c.addEventListener("click",(()=>{location.reload()})),document.body.append(o,c,(e=>{const t=document.createElement("form"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),l=document.createElement("button");return n.innerText="Username",o.type="text",o.name="username",o.placeholder="johndoe123",o.required=!0,r.innerText="Comment",c.type="text",c.name="content",c.placeholder="Wow! Great article!",c.required=!0,l.innerText="Post",n.appendChild(o),r.appendChild(c),t.append(n,r,l),l.addEventListener("click",(t=>{t.preventDefault(),o.value.length&&c.value.length&&(async()=>{const t={username:o.value,content:c.value,timeCreated:Date()};await fetch("http://localhost:3000/api/posts/"+e+"/comments/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch((e=>console.log(e))),o.value="",c.value="";const n=await fetch("http://localhost:3000/api/posts/"+e+"/comments").then((e=>e.json())).catch((e=>console.log(e)));Array.from(document.body.childNodes)[3].remove(),document.body.appendChild((0,a.qL)(n))})()})),t})(e),r)}},250:(e,t,n)=>{n.a(e,(async(e,a)=>{try{n.d(t,{Z:()=>e});var o=n(845),r=n(132);const e=await(async()=>{let e=document.createElement("div"),t=[];return(await fetch("http://localhost:3000/api/posts").then((e=>e.json())).catch((e=>console.log(e)))).forEach((e=>t.unshift(e))),t.forEach((t=>{let n=(0,o.Qe)(t);n.addEventListener("click",(()=>(0,r.Z)(t._id))),e.appendChild(n)})),e.classList.add("container"),e})();a()}catch(e){a(e)}}),1)}},l={};function d(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return c[e](n,n.exports,d),n.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},o=e=>!--e.r&&e(),r=(e,t)=>e?e.push(t):o(t),d.a=(c,l,d)=>{var s,i,m,p=d&&[],h=c.exports,u=!0,f=!1,y=(t,n,a)=>{f||(f=!0,n.r+=t.length,t.map(((t,o)=>t[e](n,a))),f=!1)},v=new Promise(((e,t)=>{m=t,i=()=>(e(h),a(p),p=0)}));v[t]=h,v[e]=(e,t)=>{if(u)return o(e);s&&y(s,e,t),r(p,e),v.catch(t)},c.exports=v,l((c=>{var l;s=(c=>c.map((c=>{if(null!==c&&"object"==typeof c){if(c[e])return c;if(c.then){var l=[];c.then((e=>{d[t]=e,a(l),l=0}),(e=>{d[n]=e,a(l),l=0}));var d={};return d[e]=(e,t)=>(r(l,e),c.catch(t)),d}}var s={};return s[e]=e=>o(e),s[t]=c,s})))(c);var d=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),i=new Promise(((e,t)=>{(l=()=>e(d)).r=0,y(s,l,t)}));return l.r?i:d()}),(e=>(e&&m(v[n]=e),i()))),u=!1},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d(138)})();